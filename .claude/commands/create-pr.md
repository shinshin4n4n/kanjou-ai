## PR 作成コマンド

現在のブランチの変更からPRを作成してください。

### 手順

1. **テスト・Lint 確認**（PR作成前に必ず実行）
   ```bash
   npm run typecheck
   npm run lint
   npm run test:unit
   ```
   - いずれかが失敗 → **PR作成を中断**し、修正を提案

2. **サイズ実測**: `git diff --stat main...HEAD | tail -1` を実行
   - 300行超 or 10ファイル超 → **PR作成を中断**し、分割案を提示

3. **変更内容分析**: Conventional Commits 形式のタイトル + 日本語概要を自動生成

4. **関連Issue**: ブランチ名から Issue 番号を抽出

5. **PR作成**: `gh pr create` でPR作成
   - PRテンプレートの全セクションを埋めること
   - テスト結果欄にはカバレッジ数値を含めること

6. **セルフレビューコメント投稿**: PR作成後に以下を実行
   ```bash
   gh pr review --comment --body "## セルフレビュー

   ### 変更の意図
   - （この変更で達成したいこと）

   ### 注意が必要な箇所
   - （レビュアーに特に見てほしい部分）

   ### 今後の課題
   - （この PR では対応しないが、将来対応が必要な点）"
   ```

### 300行超過時

1. 変更をカテゴリ分類（機能追加 / テスト / リファクタ / 設定）
2. 2-3個のPRに分割する具体的な提案
3. **ユーザーの明示的な承認なしにPRを作成しない**

### マージルール

- **スカッシュマージ必須**（`Squash and merge`）
- マージコミットメッセージは Conventional Commits 形式
- マージ前に全 CI チェックが通っていること
- マージ後にブランチを削除すること
